<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Inview Video Demo</title>
  <link rel="stylesheet" href="http://vjs.zencdn.net/6.2.8/video-js.css">
  <link rel="stylesheet" href="demo.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>VideoJS Viewability Demo Page</h1>
      
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam aliquet aliquam mi, eu bibendum ex sodales ut. Phasellus finibus dapibus mi, eleifend tincidunt ante accumsan quis. Nunc congue lorem leo, sit amet feugiat nibh varius eget. Pellentesque id nunc nec arcu viverra suscipit tristique vitae risus. Praesent ut sollicitudin sapien. Ut sagittis nunc vitae ipsum efficitur, ut molestie tortor porttitor. Fusce lacus quam, interdum at vestibulum et, tempus sed mauris. Vivamus sit amet ante eros.</p>

      <div class="video-player">
        <video id="player-1"></video>
      </div>
    </header>

    <article>
      <p>Vestibulum at ex at elit sagittis efficitur. Nam sodales eleifend orci, ut rutrum nunc fermentum vitae. Vivamus id vehicula mi. Pellentesque molestie, augue ac fringilla ultricies, risus diam rhoncus sapien, quis vestibulum dui odio eu magna. Suspendisse imperdiet arcu dui, at luctus odio consequat eu. Morbi risus nisl, rhoncus nec ultricies a, faucibus nec quam. Nulla lacus quam, venenatis at consectetur sagittis, tincidunt nec est. Fusce vel accumsan risus. Quisque dapibus fringilla est, sed faucibus neque volutpat sed. Duis in venenatis velit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur in tortor felis. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed non elit ligula. Mauris sagittis congue sapien, vel volutpat leo dictum finibus.</p>
      
      <p>Sed neque tortor, tincidunt sed nulla nec, molestie lacinia sapien. Praesent faucibus, eros sit amet posuere pellentesque, dolor turpis dapibus ligula, a viverra nunc augue ut enim. Aenean porttitor et ex condimentum auctor. Nulla interdum nulla non diam rhoncus sagittis. Ut et bibendum ex. Sed dictum pretium erat, id aliquet massa hendrerit elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In elementum malesuada mollis. Praesent pulvinar augue lacus, nec dapibus quam vehicula sit amet. Duis sagittis est urna, nec aliquet leo cursus luctus. Duis metus urna, molestie bibendum mauris et, aliquet semper magna. Praesent accumsan euismod molestie. Proin iaculis aliquam mi, id maximus mauris vehicula vel. Phasellus aliquam fringilla eros vel maximus.</p>
      
      <p>Cras quam diam, iaculis in sem eu, varius varius purus. Integer lobortis rutrum orci, eget interdum elit tincidunt eu. Donec in bibendum enim. Pellentesque et mollis sapien. In ultricies magna consequat tortor iaculis aliquam. Quisque quis accumsan ex. Vestibulum tincidunt, leo et facilisis convallis, lectus erat dictum elit, a tristique dolor sapien et risus. Mauris hendrerit, lectus quis egestas luctus, nisi libero varius sapien, eget hendrerit nibh velit eu purus. Phasellus blandit rhoncus dui. In luctus, massa ac feugiat malesuada, dui odio egestas ipsum, ut ultricies risus ex non elit.</p>
      
      <p>Quisque aliquam ipsum a felis aliquam semper. Proin interdum odio at suscipit fermentum. Cras dolor libero, sagittis sed finibus vitae, varius vitae nisi. Donec aliquet, eros id auctor cursus, lorem ex scelerisque lacus, nec vestibulum urna leo non orci. Vivamus congue mauris in blandit consequat. Proin interdum vestibulum justo vel feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean blandit finibus pretium. Sed nec magna eros. Curabitur at fringilla arcu. Sed ipsum elit, auctor ac turpis vitae, pharetra euismod nibh. Aliquam tristique elementum ipsum, porta tincidunt ligula molestie sit amet.</p>

      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam aliquet aliquam mi, eu bibendum ex sodales ut. Phasellus finibus dapibus mi, eleifend tincidunt ante accumsan quis. Nunc congue lorem leo, sit amet feugiat nibh varius eget. Pellentesque id nunc nec arcu viverra suscipit tristique vitae risus. Praesent ut sollicitudin sapien. Ut sagittis nunc vitae ipsum efficitur, ut molestie tortor porttitor. Fusce lacus quam, interdum at vestibulum et, tempus sed mauris. Vivamus sit amet ante eros.</p>
      
      <div class="video-player">
        <video id="player-2"></video>
      </div>

      <p>Nullam aliquet aliquam mi, eu bibendum ex sodales ut. Phasellus finibus dapibus mi, eleifend tincidunt ante accumsan quis. Nunc congue lorem leo, sit amet feugiat nibh varius eget.</p>

      <div class="video-player">
        <video id="player-3"></video>
      </div>
      
      <p>Sed neque tortor, tincidunt sed nulla nec, molestie lacinia sapien. Praesent faucibus, eros sit amet posuere pellentesque, dolor turpis dapibus ligula, a viverra nunc augue ut enim. Aenean porttitor et ex condimentum auctor. Nulla interdum nulla non diam rhoncus sagittis. Ut et bibendum ex. Sed dictum pretium erat, id aliquet massa hendrerit elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In elementum malesuada mollis. Praesent pulvinar augue lacus, nec dapibus quam vehicula sit amet. Duis sagittis est urna, nec aliquet leo cursus luctus. Duis metus urna, molestie bibendum mauris et, aliquet semper magna. Praesent accumsan euismod molestie. Proin iaculis aliquam mi, id maximus mauris vehicula vel. Phasellus aliquam fringilla eros vel maximus.</p>
      
      <p>Cras quam diam, iaculis in sem eu, varius varius purus. Integer lobortis rutrum orci, eget interdum elit tincidunt eu. Donec in bibendum enim. Pellentesque et mollis sapien. In ultricies magna consequat tortor iaculis aliquam. Quisque quis accumsan ex. Vestibulum tincidunt, leo et facilisis convallis, lectus erat dictum elit, a tristique dolor sapien et risus. Mauris hendrerit, lectus quis egestas luctus, nisi libero varius sapien, eget hendrerit nibh velit eu purus. Phasellus blandit rhoncus dui. In luctus, massa ac feugiat malesuada, dui odio egestas ipsum, ut ultricies risus ex non elit.</p>
      
      <p>Quisque aliquam ipsum a felis aliquam semper. Proin interdum odio at suscipit fermentum. Cras dolor libero, sagittis sed finibus vitae, varius vitae nisi. Donec aliquet, eros id auctor cursus, lorem ex scelerisque lacus, nec vestibulum urna leo non orci. Vivamus congue mauris in blandit consequat. Proin interdum vestibulum justo vel feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean blandit finibus pretium. Sed nec magna eros. Curabitur at fringilla arcu. Sed ipsum elit, auctor ac turpis vitae, pharetra euismod nibh. Aliquam tristique elementum ipsum, porta tincidunt ligula molestie sit amet.</p>
    </article>

    <footer>
        <div class="video-player">
          <video id="player-4"></video>
        </div>

        <button type="buttom" onclick="addLazyVideo('player-4')">Add Lazy Video 4</button>

        <p>Quisque aliquam ipsum a felis aliquam semper. Proin interdum odio at suscipit fermentum. Cras dolor libero, sagittis sed finibus vitae, varius vitae nisi. Donec aliquet, eros id auctor cursus, lorem ex scelerisque lacus, nec vestibulum urna leo non orci. Vivamus congue mauris in blandit consequat. Proin interdum vestibulum justo vel feugiat. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean blandit finibus pretium. Sed nec magna eros. Curabitur at fringilla arcu. Sed ipsum elit, auctor ac turpis vitae, pharetra euismod nibh. Aliquam tristique elementum ipsum, porta tincidunt ligula molestie sit amet.</p>

        <div class="video-player">
          <video id="player-5"></video>
        </div>

        <button type="buttom" onclick="addLazyVideo('player-5')">Add Lazy Video 5</button>

        <p>Cras quam diam, iaculis in sem eu, varius varius purus. Integer lobortis rutrum orci, eget interdum elit tincidunt eu. Donec in bibendum enim. Pellentesque et mollis sapien. In ultricies magna consequat tortor iaculis aliquam. Quisque quis accumsan ex. Vestibulum tincidunt, leo et facilisis convallis, lectus erat dictum elit, a tristique dolor sapien et risus. Mauris hendrerit, lectus quis egestas luctus, nisi libero varius sapien, eget hendrerit nibh velit eu purus. Phasellus blandit rhoncus dui. In luctus, massa ac feugiat malesuada, dui odio egestas ipsum, ut ultricies risus ex non elit.</p>

        <div class="video-player">
          <video id="player-6"></video>
        </div>

        <button type="buttom" onclick="addLazyVideo('player-6')">Add Lazy Video 6</button>

        <p>Sed neque tortor, tincidunt sed nulla nec, molestie lacinia sapien. Praesent faucibus, eros sit amet posuere pellentesque, dolor turpis dapibus ligula, a viverra nunc augue ut enim. Aenean porttitor et ex condimentum auctor. Nulla interdum nulla non diam rhoncus sagittis. Ut et bibendum ex. Sed dictum pretium erat, id aliquet massa hendrerit elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In elementum malesuada mollis. Praesent pulvinar augue lacus, nec dapibus quam vehicula sit amet. Duis sagittis est urna, nec aliquet leo cursus luctus. Duis metus urna, molestie bibendum mauris et, aliquet semper magna. Praesent accumsan euismod molestie. Proin iaculis aliquam mi, id maximus mauris vehicula vel. Phasellus aliquam fringilla eros vel maximus.</p>

        <p>Sed neque tortor, tincidunt sed nulla nec, molestie lacinia sapien. Praesent faucibus, eros sit amet posuere pellentesque, dolor turpis dapibus ligula, a viverra nunc augue ut enim. Aenean porttitor et ex condimentum auctor. Nulla interdum nulla non diam rhoncus sagittis. Ut et bibendum ex. Sed dictum pretium erat, id aliquet massa hendrerit elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In elementum malesuada mollis. Praesent pulvinar augue lacus, nec dapibus quam vehicula sit amet. Duis sagittis est urna, nec aliquet leo cursus luctus. Duis metus urna, molestie bibendum mauris et, aliquet semper magna. Praesent accumsan euismod molestie. Proin iaculis aliquam mi, id maximus mauris vehicula vel. Phasellus aliquam fringilla eros vel maximus.</p>
        
        <p>Cras quam diam, iaculis in sem eu, varius varius purus. Integer lobortis rutrum orci, eget interdum elit tincidunt eu. Donec in bibendum enim. Pellentesque et mollis sapien. In ultricies magna consequat tortor iaculis aliquam. Quisque quis accumsan ex. Vestibulum tincidunt, leo et facilisis convallis, lectus erat dictum elit, a tristique dolor sapien et risus. Mauris hendrerit, lectus quis egestas luctus, nisi libero varius sapien, eget hendrerit nibh velit eu purus. Phasellus blandit rhoncus dui. In luctus, massa ac feugiat malesuada, dui odio egestas ipsum, ut ultricies risus ex non elit.</p>
    </footer>
  </div>

  <script src="http://vjs.zencdn.net/6.2.8/video.js"></script>  
  <script type="text/javascript" src="../dist/viewability.js"></script>
  <script>
    var players = []

    function initPlayer (id) {
      window[`quark-${id}`] = new videojs(`#${id}`, {
        techOrder: ['html5'],
        'autoplay': false
      });
      
      window[`quark-${id}`].src({
        src: 'sample.mp4',
        type: 'video/mp4'
      });

      /* Push player object to players array every init to handle viewability between each other */
      players.push(window[`quark-${id}`])
    }

    /* Init players */
    initPlayer('player-1')
    initPlayer('player-2')
    initPlayer('player-3')

    function addLazyVideo(id) {
      initPlayer(id)
      viewability.checkVideosInview(players)
    }

    /* Init Viewability */
    var viewability = new Viewability({
      players: players
    })
  </script>
</body>
</html>